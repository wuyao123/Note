[原来 CSS 与 JS 是这样阻塞 DOM 解析和渲染的](https://juejin.cn/post/6844903497599549453#heading-1)

## CSS 不会阻塞 DOM 的解析

浏览器解析 DOM 生成 DOM Tree，结合 CSS 生成的 CSS Tree，最终生成 render tree，再渲染页面。由此可见在此过程中 CSS 完全无法影响 DOM Tree，因此无需阻碍 DOM 解析。

## CSS 阻碍页面渲染

如果脚本的内容是获取元素的样式，宽高等 CSS 控制的属性，浏览器需要重新计算，也就是依赖于 CSS。浏览器无法感知脚本内容到底是什么，为了避免样式获取，因而只好等前面所有的样式下载完后，在执行 JS。

`<script>` 和 `<link>` 同时在头部的话，`<script>`在上可能会更好，因为如果`<link>`的内容下载的更快的话，没有影响，反过来， JS 就要等待了。

## JS 阻塞 DOM 解析

每次碰到 `<script>` 标签时，会触发页面渲染。

每次碰到 `<script>` 标签时，浏览器都会渲染一次页面。因为浏览器不知道脚本的内容，因而碰到脚本时，只好先渲染页面，确保脚本能获取到最新的 DOM 元素信息，尽管脚本可能不需要这些信息。