### 三次握手
**刚开始客户端处于 closed 状态，服务端处于 listen 状态**

1. 第一次握手：客户端向服务端发一个 SYN 报文，并指明客户端的初始化序列号（ISN）。此时客户端处于 SYN_SEND 状态。
2. 第二次握手：服务端收到客户端的 SYN 报文，会以自己的 SYN 报文作为应答，并指定自己的初始化序列号（ISN），同时会把客户端的 ISN+1 作为 ACK 的值，表似乎已经接收到了客户端的 SYN，此时服务器处于 SYN_REVD 的状态。
3. 客户端接收到 SYN 报文之后，会发送一个 ACK 报文，其值为服务器的 ISN+1，表示已经收到了服务端的 SYN 报文，此时客户端处于 establised 状态。

### 四次挥手
**刚开始双方都处于 established 状态**

1. 第一次挥手：客户端发送一个 FIN 报文，报文中指定一个序列号。此时客户端处于 FIN_WAIT1 状态
2. 第二次挥手：服务端接收到 FIN 报文之后，发送 ACK 报文，其值为客户端的序列号 + 1，表明已经接收到客户端的报文了。此时服务端处于 CLOSE_WAIT 状态。
3. 第三次挥手：服务端发送 FIN 


